{#SPDX-FileCopyrightText: 2023 Haiko Schol#}
{#SPDX-License-Identifier: GPL-3.0-or-later#}

{% extends 'base.html' %}
{% load static %}

{% block javascript %}
    <script defer src="https://cdn.jsdelivr.net/npm/exifr/dist/lite.umd.js"></script>
    <script>
        const jsonRpcUrl = "{% url 'endpoint' %}";
    </script>
    <script type="module" src="{% static 'photos/upload.js' %}"></script>
{% endblock %}

{% block content %}
    <label for="picker">Choose a photo</label>
    <input type="file" id="picker" accept="image/jpeg" />

    <div class="grid">
        <img id="preview" src="" alt="Preview of the photo you selected" hidden="hidden" />
        <form id="form" method="post" enctype="multipart/form-data" hidden="hidden">
            {% csrf_token %}

            <label for="city">City</label>
            <input type="text" id="city" name="city" />

            <div id="candidates" hidden="hidden">
                <label for="cityCandidates">City Candidates</label>
                <select id="cityCandidates"></select>
            </div>

            <label for="country">Country</label>
            <input type="text" id="country" name="country" />

            <button id="submit" disabled>Upload</button>
        </form>
    </div>
{% endblock %}
